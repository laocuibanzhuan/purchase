**至此大部分准备工作已经完成，包括处理请求、登录、验证登录**

**下一步就是页面开发，后端的接口会在前端页面开发中穿插进行**



# 页面的总体设计

布局页面都放在views文件夹下，404放在components下，路由页面放在pages下

## layout

采取element的Container布局

![](D:\Project\purchase\项目开发流程加个人总结\img\layout.png)

## login

进入系统之前必须先登录，登录成功后才可以继续访问



# 侧边栏通过路由自动生成菜单

不仅要从路由中生成菜单，还要为菜单绑定路由

开发侧边栏的难度大，耗时长

## 读取路由配置

在vue3中要使用useRouter获取路由实例

再通过路由实例的options.routes获取路由列表

配置routes时应添加路由源信息，侧边栏通过源信息显示菜单

## vfor渲染

只有路由组件需要被渲染在菜单中，要从获取到的路由列表中过滤出layout路由

## menuItem渲染

父组件通过prop将路由item传给menuItem

menuItem即要通过item来显示菜单，还要判断item是否包含子路由

如果存在子路由，还需要进一步渲染

## 为侧边栏菜单配置路由

item中包含路由信息，只需做一次简单的字符串拼接，就能获得跳转路径

item中只包含一层路由信息，完整的跳转还需要确定父级路由



# 配置面包屑

面包屑显示的路径数据来源于当前页面的route

监视route的变化，更新list，list必须是响应式的，否则页面不更新



# 退出登录

默认显示当前用户名，下拉菜单可回到首页和退出登录

退出登录会清除pinia和localStorage中的token

